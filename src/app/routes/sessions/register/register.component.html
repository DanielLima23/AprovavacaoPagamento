<mat-card class="mat-drawer-content mat-sidenav-content matero-content-wrap">
  <mat-card-content>
    <mat-card-header>
      <mat-card-title style="color: white;">
        Dados pessoais
      </mat-card-title>
    </mat-card-header>
    <mat-divider></mat-divider>
    <form [formGroup]="userForm" (ngSubmit)="onSubmit()" class="row mt-2">

      <div class="row mt-2">
        <div class="col-sm-6">
          <mat-form-field floatLabel="always"
                          style="width: 100%;">
            <mat-label>Nome</mat-label>
            <input matInput #inputNome maxlength="50" type="text"
                   placeholder="Insira seu nome" id="nome" formControlName="nome">
            <mat-hint align="end">{{inputNome.value.length}}/50</mat-hint>
          </mat-form-field>
        </div>
        <div class="col-sm-6 ">
          <mat-form-field floatLabel="always"
                          style="width: 100%;">
            <mat-label>Data de nascimento</mat-label>
            <input matInput #input maxlength="50"
                   placeholder="" id="dataNascimento" formControlName="dataNascimento"
                   type="date">
          </mat-form-field>
        </div>
        <div class="col-sm-6">
          <mat-form-field hintLabel="" floatLabel="always"
                          style="width: 100%;">
            <mat-label>Email</mat-label>
            <input matInput #inputEmail maxlength="50"
                   placeholder="Insira seu email" id="email" formControlName="email">
            <mat-hint align="end">{{inputEmail.value.length}}/50</mat-hint>
          </mat-form-field>
        </div>
        <div class="col-sm-6">
          <mat-form-field hintLabel="" floatLabel="always"
                          style="width: 100%;">
            <mat-label>Senha</mat-label>
            <input matInput #inputSenha maxlength="50"
                   placeholder="Insira sua senha" id="senha" formControlName="senha"
                   type="password">
          </mat-form-field>
        </div>
        <div class="col-sm-12">
          <mat-slide-toggle formControlName="contaCnpj" (change)="toggleCpfCnpj($event)">
            CNPJ?
          </mat-slide-toggle>
        </div>

        <div class="col-sm-6 mt-2" *ngIf="!userForm.get('contaCnpj')?.value">
          <mat-form-field floatLabel="always" style="width: 100%;">
            <mat-label>Cpf</mat-label>
            <input formControlName="cpf" matInput #input maxlength="14" placeholder="Insira seu cpf"
                   id="cpf" mask="000.000.000-00">
            <mat-hint align="end">{{input.value.length}}/14</mat-hint>
          </mat-form-field>
        </div>

        <div class="col-sm-6 mt-2" *ngIf="userForm.get('contaCnpj')?.value">
          <mat-form-field floatLabel="always" style="width: 100%;">
            <mat-label>Cnpj</mat-label>
            <input formControlName="cnpj" matInput #input maxlength="18"
                   placeholder="Insira seu cnpj"
                   id="cnpj" mask="00.000.000/0000-00">
            <mat-hint align="end">{{input.value.length}}/18</mat-hint>
          </mat-form-field>
        </div>
        <div class="col-sm-6 mt-2">
          <mat-form-field hintLabel="" floatLabel="always"
                          style="width: 100%;">
            <mat-label>Celular</mat-label>
            <input matInput #inputCelular maxlength="20"
                   placeholder="Insira um número para contato" id="celular"
                   formControlName="celular" [mask]="'(00) 00000-0000 '">
            <mat-hint align="end">{{inputCelular.value.length}}/20</mat-hint>
          </mat-form-field>
        </div>
      </div>
      <mat-card-footer align="end" class="mt-2">
        <button [disabled]="userForm.invalid " (click)="salvar()" mat-flat-button
              extended
              color="primary" class="m-3">
        <mat-icon>save</mat-icon>
        Criar conta
      </button>
      </mat-card-footer>

    </form>
  </mat-card-content>
</mat-card>


<mat-card>
  <mat-card-content>
    <mat-card-header>
      <mat-card-title style="color: white;">Lista de contas</mat-card-title>
    </mat-card-header>

    <mat-divider></mat-divider>

    <button class="mt-4" (click)="adicionar()" mat-raised-button
            matTooltip="Adicionar conta bancária">ADICIONAR</button>

    <mat-card-content class="table-responsive mt-4">
      <table mat-table [dataSource]="dataSource">

        <ng-container matColumnDef="banco">
          <th mat-header-cell *matHeaderCellDef> Banco </th>
          <td mat-cell *matCellDef="let conta"> {{conta.banco}} </td>
        </ng-container>

        <ng-container matColumnDef="agencia">
          <th mat-header-cell *matHeaderCellDef> Agência </th>
          <td mat-cell *matCellDef="let conta"> {{conta.agencia}} </td>
        </ng-container>

        <ng-container matColumnDef="conta">
          <th mat-header-cell *matHeaderCellDef> Conta </th>
          <td mat-cell *matCellDef="let conta"> {{conta.conta}} </td>
        </ng-container>

        <ng-container matColumnDef="chavePix">
          <th mat-header-cell *matHeaderCellDef> Chave pix </th>
          <td mat-cell *matCellDef="let conta"> {{conta.chavePix}} </td>
        </ng-container>
        <!-- <ng-container matColumnDef="contaPadrao">
          <th mat-header-cell *matHeaderCellDef> Conta padrão </th>
          <td mat-cell *matCellDef="let conta">
            <ng-container
                          *ngTemplateOutlet="customCheckbox; context: { conta: conta }"></ng-container>
          </td>
        </ng-container>
        <ng-template #customCheckbox let-conta="conta">
          <mat-checkbox (change)="onContaPadraoChange($event.checked, conta)"
                        matTooltip="Definir como conta padrão"
                        [checked]="conta.contaPadrao"></mat-checkbox>
        </ng-template> -->
        <ng-container matColumnDef="actions">
          <th mat-header-cell *matHeaderCellDef> Ações </th>
          <td mat-cell *matCellDef="let conta">
            <button matTooltip="Editar" mat-icon-button (click)="openDialogEditar(conta)">
              <mat-icon>edit</mat-icon>
            </button>
            <button matTooltip="Deletar" mat-icon-button (click)="openDialogDeletar(conta)">
              <mat-icon>delete</mat-icon>
            </button>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
    </mat-card-content>

  </mat-card-content>
</mat-card>
